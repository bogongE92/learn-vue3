<template>
	<div class="card">
		<div class="card-header">Deep Child Component</div>
        <div class="card-body">
			<p>staticMessage : {{ staticMessage }}</p>
			<p>message : {{ message }}</p>
			<p>count : {{ count }}</p>
		</div>
	</div>
</template>

<script>
import { inject } from 'vue';


export default {
	setup() {
		// ê°€ì ¸ì˜¤ê³  ì‹¶ì€ ì»´í¬ë„ŒíŠ¸ì— inject í•¨ìˆ˜ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
		// ê°€ì ¸ì˜¬ ë•ŒëŠ” ë§ˆì°¬ê°€ì§€ë¡œ í‚¤(ë¶€ëª¨ í‚¤ì—ì„œ ì…ë ¥í–ˆë˜ ê²ƒ)ë¥¼ ì…ë ¥í•´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

		// inject í•¨ìˆ˜ì—ì„œëŠ” ê°’ì´ ì•ˆë„˜ì–´ì˜¬ë•Œë¥¼ ëŒ€ë¹„í•´ì„œ ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ defaultê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
		// ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°’ì„ ë„˜ê¸°ì§€ ì•ŠëŠ”ë‹¤ë©´? defalutê°’ì´ ì¶œë ¥ì´ ëœë‹¤.
		const staticMessage = inject('static-message', 'default message');

		// ì—¬ê¸°ì„œ message ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê³  ì‹¶ë‹¤ë©´? ì—¬ê¸°ì„œ messageëŠ” ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„° ì´ë‹¤.
		// ì—¬ê¸°ì„œëŠ” êµ¬ì¡°ë¶„í•´ í• ë‹¹ì„ í†µí•´ì„œ ë°›ì•„ì£¼ë©´ ëœë‹¤.
		const { message, updateMessage } = inject('message');
		// message.value = message.value + '!'; 
		// ì´ëŸ°ì‹ìœ¼ë¡œ ë³€ê²½í•˜ì§€ ë§ê³ , provideì—ì„œ ë°ì´í„°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ë©”ì„œë“œë¥¼ í•¨ê»˜ ì œê³µí•´ì¤˜ì•¼ í•œë‹¤.
		// ì—¬ê¸°ì„œ ê¸°ëŠ¥ì„ ë„ê³  ì‹¶ë‹¤ë©´ read onlyë¥¼ ì‚¬ìš©í•´ ì£¼ë©´ ëœë‹¤.
		updateMessage('ğŸ› ï¸');
		const count = inject('count');

		return {
			staticMessage,
			message,
			count
		};
	},
};
</script>
<style lang="scss" scoped></style>